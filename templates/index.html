{% extends"base.html" %} 

{% block body%} 

<div class="register">
  <form id="register_form" action="{{url_for("register")}}" method="post" >
    <h1>Register</h1>
    <input type="text" name="username_register" placeholder="username" class="input-field" required autofocus>
    <br>
    <input type="password" name="password_register" placeholder="password" id= "ps" class="input-field" required autofocus>
    <input type="image" src="https://www.svgrepo.com/show/453442/visibility-off.svg" onclick="see_ps();return false;" id="image" >

    <div class="btn-box">
      <button type="button" id="next">Next</button>
      <input  type="submit"  value="register" class="btn-register"/>

    </div>
  </form>

  <form id="form2" action="{{url_for("register")}}" method="post" >
    <h1>Profile setup</h1>  
    <input type="file" name="pfp-select"  id="file" onchange="preview()">
    <img  id="frame" width="100px" height="100px" onclick="trigger_fileinput()"/>
    
    <div class="btn-box">
      <button type="button" id="back">Back</button>
    </div>
  </form>
  <div class="step-row">
    <div id="progress"></div>
    <div class="step-col"><small>Step 1</small></div>
    <div class="step-col"><small>Step 2</small></div>
    <br>
  </div>
    
</div>
<a href="{{url_for("login")}}" class="lnk-login">Already have an account? Login !</a>


 <script>
  function see_ps(){
    var y=document.getElementById("image")
    var x= document.getElementById("ps");
    if (x.type=="password") {
      x.type="text"; 
      y.src="https://www.svgrepo.com/show/453440/visibility.svg"; }
      else 
      { x.type="password";
        y.src="https://www.svgrepo.com/show/453442/visibility-off.svg";}  
    } 
  var form1 = document.getElementById("register_form"); 
  var form2 = document.getElementById("form2");  

  var next = document.getElementById("next");
  var back = document.getElementById("back");

  var progress = document.getElementById("progress");

  next.onclick = function(){
    form1.style.left = "-450px";
    form2.style.left = "40px";
    progress.style.width ="240px"; 
  }
  back.onclick = function(){
      form1.style.left = "40px";
      form2.style.left = "450px" ;
      progress.style.width ="120px";  
   } 

function preview() {

  frame.src = URL.createObjectURL(event.target.files[0]);
  
} 

 function trigger_fileinput(){
  document.getElementById("file").click();

 }
  
  </script>
  
{% endblock %} 